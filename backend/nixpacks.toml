# Nixpacks configuration for Railway deployment
# Adds system-level dependencies required by WeasyPrint for PDF report generation
#
# Using aptPkgs (not nixPkgs) so libraries install to standard /usr/lib paths
# where WeasyPrint's cffi/ctypes bindings can discover them at runtime.
#
# NOTE: Railway is configured to use the Dockerfile (see railway.toml).
# This file serves as a fallback if the builder is switched to Nixpacks.

[phases.setup]
aptPkgs = [
  "libglib2.0-0",
  "libgobject-2.0-0",
  "libcairo2",
  "libpango-1.0-0",
  "libpangocairo-1.0-0",
  "libpangoft2-1.0-0",
  "libgdk-pixbuf2.0-0",
  "libharfbuzz0b",
  "libfontconfig1",
  "libfreetype6",
  "libffi-dev",
  "shared-mime-info",
  "fonts-liberation2",
]
