# DealGapIQ Backend Environment Configuration
# Copy this file to .env and fill in your values

# ===========================================
# Application
# ===========================================
APP_NAME=DealGapIQ
APP_VERSION=1.0.0
DEBUG=true
ENVIRONMENT=development  # development, staging, production

# ===========================================
# Database (PostgreSQL)
# ===========================================
# For local development:
DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/dealgapiq

# For Railway (use their provided DATABASE_URL):
# DATABASE_URL=postgresql+asyncpg://...

# ===========================================
# Redis (Optional - for caching)
# ===========================================
REDIS_URL=redis://localhost:6379/0

# ===========================================
# API Keys (External Data Services)
# ===========================================
# RentCast - Property data and rent estimates
# Get your key at: https://app.rentcast.io/app/api
RENTCAST_API_KEY=your_rentcast_api_key_here
RENTCAST_URL=https://api.rentcast.io/v1

# AXESSO - Zillow data via RapidAPI
# Get your key at: https://rapidapi.com/axesso/api/axesso-zillow-data-api
AXESSO_API_KEY=your_axesso_api_key_here
AXESSO_URL=https://api.axesso.de/zil

# Redfin Base - Property value estimates via RapidAPI
# Get your key at: https://rapidapi.com/tvhaudev/api/redfin-base
REDFIN_API_KEY=your_redfin_rapidapi_key_here
REDFIN_URL=https://redfin-base.p.rapidapi.com

# ===========================================
# Authentication & Security
# ===========================================
# Generate with: openssl rand -hex 32
SECRET_KEY=your-super-secret-key-min-32-chars-change-in-production

# JWT Settings
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# Password reset and email verification
PASSWORD_RESET_TOKEN_EXPIRE_HOURS=24
EMAIL_VERIFICATION_TOKEN_EXPIRE_HOURS=48

# ===========================================
# File Storage
# ===========================================
# Options: local, s3, r2
STORAGE_BACKEND=local

# Local storage (development)
LOCAL_STORAGE_PATH=./uploads

# AWS S3 (production option 1)
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=
# AWS_REGION=us-east-1
# S3_BUCKET_NAME=dealgapiq-documents

# Cloudflare R2 (production option 2 - recommended)
# R2_ACCOUNT_ID=your_account_id
# R2_ACCESS_KEY_ID=your_access_key
# R2_SECRET_ACCESS_KEY=your_secret_key
# R2_BUCKET_NAME=dealgapiq-documents
# R2_PUBLIC_URL=https://your-bucket.r2.dev

# Upload limits
MAX_UPLOAD_SIZE_MB=50
ALLOWED_FILE_TYPES=pdf,doc,docx,xls,xlsx,jpg,jpeg,png,gif,webp

# ===========================================
# Email (Resend)
# ===========================================
# Get your key at: https://resend.com
RESEND_API_KEY=
EMAIL_FROM=noreply@yourdomain.com
EMAIL_FROM_NAME=DealGapIQ

# Frontend URL (for email links)
FRONTEND_URL=http://localhost:3000

# ===========================================
# Stripe (Billing)
# ===========================================
# Get your keys at: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_...
STRIPE_PUBLISHABLE_KEY=pk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...

# Pro plan price IDs (create in Stripe Dashboard or use lookup_keys)
# 2-tier model: Free (Starter) + Pro ($29/mo annual, $39/mo monthly)
STRIPE_PRICE_PRO_MONTHLY=price_...
STRIPE_PRICE_PRO_YEARLY=price_...

# ===========================================
# CORS
# ===========================================
# Comma-separated list of allowed origins
# Development:
CORS_ORIGINS_STR=http://localhost:3000,http://127.0.0.1:3000

# Production (use this for deployment):
# CORS_ORIGINS_STR=https://dealgapiq.com,https://www.dealgapiq.com,http://localhost:3000,http://127.0.0.1:3000

# ===========================================
# Rate Limiting
# ===========================================
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_PERIOD=60

# Stricter limits for auth endpoints
AUTH_RATE_LIMIT_REQUESTS=5
AUTH_RATE_LIMIT_PERIOD=60

# ===========================================
# Feature Flags
# ===========================================
# Set to true/false to enable/disable features
FEATURE_AUTH_REQUIRED=false
FEATURE_DASHBOARD_ENABLED=true
FEATURE_DOCUMENT_UPLOAD_ENABLED=true
FEATURE_SHARING_ENABLED=true
FEATURE_EMAIL_VERIFICATION_REQUIRED=false

